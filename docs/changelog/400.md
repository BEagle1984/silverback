---
uid: releases-400
---

# Release Notes v4.x.x

## [4.6.2](https://github.com/BEagle1984/silverback/releases/tag/v4.6.2)

### Fixes

* Fix distributed background services graceful shutdown [[#247](https://github.com/BEagle1984/silverback/issues/247)]

## [4.6.1](https://github.com/BEagle1984/silverback/releases/tag/v4.6.1)

### Fixes

* Fix message validation [[#246](https://github.com/BEagle1984/silverback/pull/246)]

## [4.6.0](https://github.com/BEagle1984/silverback/releases/tag/v4.6.0)

### What's New

* Add `GetOffsetsForTimestamp` to `KafkaConsumer`
* Allow specifying the number of partitions per topic in the mocked Kafka

### Fixes

* Further improve assembly qualified name parsing for generic types

## [4.5.1](https://github.com/BEagle1984/silverback/releases/tag/v4.5.1)

### Fixes

* Fix assembly qualified name parsing for generic types

## [4.5.0](https://github.com/BEagle1984/silverback/releases/tag/v4.5.0)

### What's New

* Upgrade to [MQTTnet 4.3.6.1152](https://github.com/chkr1011/MQTTnet/releases/tag/v4.3.6.1152)
* Upgrade to [Confluent.Kafka 2.4.0](https://github.com/confluentinc/confluent-kafka-dotnet/releases/tag/v2.3.0)
* Minor changes to reduce the likelihood of a deadlock

## [4.4.1](https://github.com/BEagle1984/silverback/releases/tag/v4.4.1)

### What's New

* Upgrade to [Confluent.Kafka 2.3.0](https://github.com/confluentinc/confluent-kafka-dotnet/releases/tag/v2.3.0)
  * Upgrade to [MQTTnet 4.3.2.930](https://github.com/chkr1011/MQTTnet/releases/tag/v4.3.2.930)

## [4.4.0](https://github.com/BEagle1984/silverback/releases/tag/v4.4.0)

### What's New

* Allow parallel processing of MQTT messages
* Upgrade to [MQTTnet 4.3.1.873](https://github.com/chkr1011/MQTTnet/releases/tag/v4.3.1.873)
* Upgrade to [Confluent.Kafka 2.2.0](https://github.com/confluentinc/confluent-kafka-dotnet/releases/tag/v2.2.0)

### Fixes

* Correctly set message timestamp in mocked Kafka
* Properly handle Kafka partitions revoked event when no partitions were assigned [[#214](https://github.com/BEagle1984/silverback/issues/214)]
* Respect `IgnoreUnhandledException` when batch processing [[#216](https://github.com/BEagle1984/silverback/issues/216)]

## [4.3.2](https://github.com/BEagle1984/silverback/releases/tag/v4.3.2)

### Fixes

* Fix potential message loss in `OutboxWorker`

## [4.3.1](https://github.com/BEagle1984/silverback/releases/tag/v4.3.1)

### Fixes

* Fix deadlock in `OutboxWorker` when `enforceMessageOrder=true` (default)

## [4.3.0](https://github.com/BEagle1984/silverback/releases/tag/v4.3.0)

### What's New

* Upgrade to [MQTTnet 4.2.0.706](https://github.com/chkr1011/MQTTnet/releases/tag/v4.2.0.706)
* Upgrade to [Confluent.Kafka 2.1.1](https://github.com/confluentinc/confluent-kafka-dotnet/releases/tag/v2.1.1)
* Upgrade to Newtonsoft.Json 13.0.3
* Add `ReasonCode` and `ReasonString` to `MqttProduceException` message

## [4.2.1](https://github.com/BEagle1984/silverback/releases/tag/v4.2.1)

### Fixes

* Prevent an `ObjectDisposedException` to be thrown by the `BrokerCallbackInvoker` during application shutdown
* Fix possible deadlock in [BatchSequence](xref:Silverback.Messaging.Sequences.Batch.BatchSequence) with timeout

## [4.2.0](https://github.com/BEagle1984/silverback/releases/tag/v4.2.0)

### What's New

* Upgrade to [Confluent.Kafka 2.1.0](https://github.com/confluentinc/confluent-kafka-dotnet/releases/tag/v2.1.0)

## [4.1.2](https://github.com/BEagle1984/silverback/releases/tag/v4.1.2)

### Fixes

* Fix chained error policies attempts counter

## [4.1.1](https://github.com/BEagle1984/silverback/releases/tag/v4.1.1)

### Fixes

* Fix bug in outbox producer writing to the wrong endpoint [[#165](https://github.com/BEagle1984/silverback/issues/165)]

## [4.1.0](https://github.com/BEagle1984/silverback/releases/tag/v4.1.0)

### What's New

* Upgrade to [Confluent.Kafka 2.0.2](https://github.com/confluentinc/confluent-kafka-dotnet/releases/tag/v2.0.2)
* Replace the deprecated package `Confluent.Kafka.SchemaRegistry.Serdes` with `Confluent.Kafka.SchemaRegistry.Serdes.Avro`
* Simplify the Avro serializer configuration and add samples (see <xref:sample-kafka-avro>)

## [4.0.1](https://github.com/BEagle1984/silverback/releases/tag/v4.0.1)

### What's New

* Upgrade to [MQTTnet 4.1.4.563](https://github.com/chkr1011/MQTTnet/releases/tag/v4.1.4.563)

## [4.0.0](https://github.com/BEagle1984/silverback/releases/tag/v4.0.0)

### What's New

* Upgrade to [MQTTnet 4.1.3.436](https://github.com/chkr1011/MQTTnet/releases/tag/v4.1.3.436)
* Upgrade to [Confluent.Kafka 1.9.3](https://github.com/confluentinc/confluent-kafka-dotnet/releases/tag/v1.9.3)
* Upgrade to Newtonsoft.Json 13.0.2
* Disable server-side offset commit in <xref:Silverback.Messaging.Broker.KafkaConsumer> when `GroupId` is  not set

### Breaking changes

* Some breaking changes in MQTTnet 4 are reflected into Silverback

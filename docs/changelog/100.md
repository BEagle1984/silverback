---
uid: releases-100
---

# Release Notes v1.x.x

## [1.2.0](https://github.com/BEagle1984/silverback/releases/tag/v1.2.0)

### What's New

* Publish events to the internal bus as a consequence to the Kafka events such as partitions assigned or revoked (see <xref:broker-callbacks>) [[#34](https://github.com/BEagle1984/silverback/issues/34)]

## [1.1.0](https://github.com/BEagle1984/silverback/releases/tag/v1.1.0)

### What's New

* Add `IEndpointsConfigurator` interface to allow splitting the endpoints configuration across multiple types
* Add support for distributed tracing (based on [System.Diagnostics](https://docs.microsoft.com/en-us/dotnet/api/system.diagnostics.activity?view=netcore-3.1))
* Add <xref:Silverback.Messaging.Broker.Behaviors.IProducerBehavior> and <xref:Silverback.Messaging.Broker.Behaviors.IConsumerBehavior> to create an extension point closer to the actual message broker logic (see <xref:producer-behaviors> and <xref:consumer-behaviors>)

### Breaking Changes

* Replaced _ISortedBehavior_ with a generic <xref:Silverback.ISorted> interface

## [1.0.5](https://github.com/BEagle1984/silverback/releases/tag/v1.0.5)

### What's New

* Upgrade to [Confluent.Kafka 1.3.0](https://github.com/confluentinc/confluent-kafka-dotnet/releases/tag/v1.3.0)

### Fixes

* Fix `OutboundQueueHealthCheck` [[#43](https://github.com/BEagle1984/silverback/issues/43)]
* Remove automatic disposal of the <xref:Silverback.Messaging.Broker.KafkaProducer> when a [KafkaException](https://docs.confluent.io/platform/current/clients/confluent-kafka-dotnet/api/Confluent.Kafka.KafkaException.html) is thrown (creating too many instances of the producer over a short time span could lead to too many active TCP connections)
* Fix the bug preventing a <xref:Silverback.Messaging.KafkaConsumerEndpoint> pointing to multiple topics to be successfully subscribed

## [1.0.4](https://github.com/BEagle1984/silverback/releases/tag/v1.0.4)

### Fixes

* Fix mortal loop issue: it is finally safe to consume and produce the same type of messages from within the same process (in a natural way, without any extra configuration)
    * Since version [1.0.0](#100) the messages routed to an endpoint aren't forwarded to any subscriber directly
    * Now the inbound connector has been fixed as well, preventing the inbound messages to be immediately routed once again to the outbound endpoint and eliminating all possible causes of mortal loops

## [1.0.3](https://github.com/BEagle1984/silverback/releases/tag/v1.0.3)

### What's New

* Deprecate _PartitioningKeyMemberAttribute_ in favor of <xref:Silverback.Messaging.Messages.KafkaKeyMemberAttribute>, since the message key isn't used just for partitioning (see <xref:kafka-partitioning>)

### Fixes

* Forward Kafka message key as-is (not hashed anymore) to avoid possible collisions and simplify debugging

## [1.0.2](https://github.com/BEagle1984/silverback/releases/tag/v1.0.2)

### Fixes

* Reintroduce `Add*Subscriber` and `Add*Behavior` as [IServiceCollection](https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.dependencyinjection.iservicecollection) extension methods (for backward compatibility and greater flexibility) [[#41](https://github.com/BEagle1984/silverback/issues/41)]
* Add `WithInMemoryBroker` and `OverrideWithInMemoryBroker` extension methods (see <xref:testing>)

## [1.0.0](https://github.com/BEagle1984/silverback/releases/tag/v1.0.0)

### What's New

* Optimize message size (no wrappers anymore)
* Improve headers usage: identifiers, types, chunks information, etc. are now all sent in the headers
* Review severity of some log entries
* Improve and clean up internal implementation
* Improve exception handling (flattening of [AggregateException](https://docs.microsoft.com/en-us/dotnet/api/system.aggregateexception))
* Upgrade to [Confluent.Kafka 1.2.2](https://github.com/confluentinc/confluent-kafka-dotnet/releases/tag/v1.2.2)
* Add automatic recovers from fatal errors in <xref:Silverback.Messaging.Broker.KafkaConsumer> (can be disabled via Endpoint configuration)
* Support .Net Core 3.0 and Entity Framework Core 3.0
* Refactor packages (EF binding logic is now in a single package, versioned after the related EF version)
* Improve configuration API
* Improve and optimize performance (including [#37](https://github.com/BEagle1984/silverback/issues/37))
* Improve database locks mechanism (used also to run the _OutboundQueueWorker_)

### Fixes

* Fix issue requiring types not implementing <xref:Silverback.Messaging.Messages.IMessage> to be registered with `HandleMessagesOfType<T>` to consume them [[#33](https://github.com/BEagle1984/silverback/issues/33)]
* Mitigate issue causing the <xref:Silverback.Background.DistributedBackgroundService> to sometime fail to acquire the database lock [[#39](https://github.com/BEagle1984/silverback/issues/39)]
* Fix partition key value being lost when using the _DeferredOutboundConnector_
* Other small fixes to improve stability and reliability

### Breaking Changes

* By default the messages published via <xref:Silverback.Messaging.Publishing.IPublisher> that are routed to an outbound endpoint are not sent through to the internal bus and cannot therefore be subscribed locally, within the same process (see <xref:producing>)
* Some changes in _IInboundMessage_ and _IOutboundMessage_ interfaces
* Changes to the schema of the outbox table (_Silverback.Messaging.Connectors.Model.OutboundMessage_)
* The configuration fluent API changed quite a bit, refer to the current documentation

> [!Important]
> `WithConnectionTo<KafkaBroker>` has to be replaced with `WithConnectionToKafka` in order for all features to work properly. When failing to do so no message key will be generated, causing the messages to land in a random partition and/or preventing to publish to a compacted topic. (see <xref:kafka-partitioning>)

* [Silverback.Integration.EntityFrameworkCore](https://www.nuget.org/packages/Silverback.Integration.EntityFrameworkCore) and [Silverback.EventSourcing.EntityFrameworkCore](https://www.nuget.org/packages/Silverback.EventSourcing.EntityFrameworkCore) have been deprecated ([Silverback.Core.EntityFrameworkCore](https://www.nuget.org/packages/Silverback.Core.EntityFrameworkCore) contains all the necessary logic to use EF as store)
* _KeyMemberAttribute_ has been renamed to _PartitioningKeyMemberAttribute_ (see <xref:kafka-partitioning>)

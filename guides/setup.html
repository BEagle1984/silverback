<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Setting Up Silverback | Silverback </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Setting Up Silverback | Silverback ">
    <meta name="generator" content="docfx ">
  

    <link rel="apple-touch-icon" sizes="180x180" href="../images/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../images/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../images/icons/favicon-16x16.png">
    <link rel="manifest" href="../images/icons/site.webmanifest">
    <link rel="mask-icon" href="../images/icons/safari-pinned-tab.svg" color="#5bbad5">

    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
  
  <meta property="docfx:rel" content="../">
  
    <script src="https://kit.fontawesome.com/e3306be642.js" crossorigin="anonymous"></script>
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>

        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>

              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../images/logo.png" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>

        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">

        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">

        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="setup">
<h1 id="setting-up-silverback">Setting Up Silverback</h1>

<p>Silverback is designed as a modular framework, allowing you to include only the components you need. This guide walks you through selecting the right packages and configuring the basics to get started.</p>
<h2 id="adding-the-required-packages">Adding the Required Packages</h2>
<h3 id="core-packages">Core Packages</h3>
<ul>
<li><strong><a href="https://www.nuget.org/packages/Silverback.Core/">Silverback.Core</a></strong> – The essential package, including the mediator and fundamental messaging components.</li>
<li><strong><a href="https://www.nuget.org/packages/Silverback.Core.Model/">Silverback.Core.Model</a></strong> – Enhances CQRS and event-driven architectures with improved semantics.</li>
</ul>
<h3 id="message-broker-integration">Message Broker Integration</h3>
<p>If you need to integrate with a message broker, choose the appropriate package:</p>
<ul>
<li><strong><a href="https://www.nuget.org/packages/Silverback.Integration.Kafka/">Silverback.Integration.Kafka</a></strong> – Adds Kafka support (implicitly includes Silverback.Core).</li>
<li><strong><a href="https://www.nuget.org/packages/Silverback.Integration.Mqtt/">Silverback.Integration.Mqtt</a></strong> – Adds MQTT support (implicitly includes Silverback.Core).</li>
</ul>
<h3 id="additional-features">Additional Features</h3>
<ul>
<li><strong><a href="https://www.nuget.org/packages/Silverback.Core.Rx/">Silverback.Core.Rx</a></strong> – Enables Rx.NET integration, allowing observables from the mediator message stream.</li>
<li><strong><a href="https://www.nuget.org/packages/Silverback.Newtonsoft/">Silverback.Newtonsoft</a></strong> – Supports serialization using Newtonsoft.Json instead of System.Text.Json.</li>
<li><strong><a href="https://www.nuget.org/packages/Silverback.Kafka.SchemaRegistry/">Silverback.Kafka.SchemaRegistry</a></strong> – Provides integration with Schema Registry for Protobuf, Avro, or JSON serialization with schema support.</li>
</ul>
<h3 id="storage-options">Storage Options</h3>
<p>Certain Silverback features rely on a storage mechanism. Choose the appropriate package based on your needs:</p>
<ul>
<li><strong><a href="https://www.nuget.org/packages/Silverback.Storage.PostgreSql/">Silverback.Storage.PostgreSql</a></strong> – Optimized for PostgreSQL, leveraging advisory locks.</li>
<li><strong><a href="https://www.nuget.org/packages/Silverback.Storage.Sqlite/">Silverback.Storage.Sqlite</a></strong> – A lightweight option, ideal for testing.</li>
<li><strong><a href="https://www.nuget.org/packages/Silverback.Storage.EntityFramework/">Silverback.Storage.EntityFramework</a></strong> – Works with Entity Framework, supporting all EF-compatible relational databases.</li>
<li><strong><a href="https://www.nuget.org/packages/Silverback.Storage.Memory/">Silverback.Storage.Memory</a></strong> – An in-memory storage option, useful for testing.</li>
</ul>
<h3 id="testing-support">Testing Support</h3>
<p>For unit testing message-driven applications, you can use in-memory broker mocks:</p>
<ul>
<li><strong><a href="https://www.nuget.org/packages/Silverback.Integration.Kafka.Testing/">Silverback.Integration.Kafka.Testing</a></strong> – Provides an in-memory Kafka mock, simulating partitioning, offsets management, and other broker behaviors.</li>
<li><strong><a href="https://www.nuget.org/packages/Silverback.Integration.Mqtt.Testing/">Silverback.Integration.Mqtt.Testing</a></strong> – Provides an in-memory MQTT mock to test MQTT-related logic.</li>
</ul>
<h2 id="registering-and-configuring-silverback">Registering and Configuring Silverback</h2>
<p>Once you’ve installed the necessary packages, configure Silverback within your application's Dependency Injection (DI) container.</p>
<p>You can use either <code>AddSilverback</code> or <code>ConfigureSilverback</code> to register and configure Silverback.</p>
<ul>
<li><strong><code>AddSilverback</code></strong> should typically be called once as the initial setup.</li>
<li><strong><code>ConfigureSilverback</code></strong> allows extending the configuration in different parts of the bootstrap process, such as when configuring feature slices separately.</li>
</ul>
<p>This is a basic example of configuring Silverback. Many settings and customization options are available depending on the features you want to use. For example, a message broker is optional, and you don’t need to configure both Kafka and MQTT unless required for your use case.</p>
<pre><code class="lang-csharp">services.AddSilverback()
    .WithConnectionToMessageBroker(options =&gt; options
        .AddKafka()
        .AddMqtt())
    .AddSingletonSubscriber&lt;MyMessageHandler&gt;();
</code></pre>
<ul>
<li><strong><code>AddSilverback</code></strong> enables the mediator and allows chaining additional configurations via the fluent API.</li>
<li><strong><code>WithConnectionToMessageBroker</code></strong> configures the connection to the message brokers (both Kafka and MQTT in this case).</li>
<li><strong><code>AddSingletonSubscriber</code></strong> registers a message handler to process incoming messages.</li>
</ul>
<h2 id="next-steps">Next Steps</h2>
<p>With these steps, Silverback is now set up and ready to use! You can explore more advanced topics such as message processing, broker integration, and custom configurations in the following guides.</p>
</article>
          </div>

          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/beagle1984/silverback/blob/master/docs/guides/setup.md/#L1" class="contribution-link">Improve this doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>

      <footer>
        <div class="footer">
          <div class="container contacts">
            <a href="https://github.com/BEagle1984" rel="nofollow noopener noreferrer"><i class='fab fa-github'></i> GitHub</a>
            <a href="mailto:silverback-project@outlook.com" rel="nofollow noopener noreferrer"><i class='fas fa-envelope'></i> E-Mail</a>
          </div>
          <div class="container">
            <span class="pull-right">
              <a href="#top">&uarr; Back to top</a>
            </span>
      © 2025 Sergio Aquilini
      
          </div>
        </div>
      </footer>
    </div>

    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
